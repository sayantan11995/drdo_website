{% extends 'navbar.html' %}

{% block title %}Forms{% endblock %}

{% block content %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<div class="container mt-5">
  <h2 class="text-center text-primary mb-4">ðŸ“„ Download Forms</h2>
  <p class="text-center text-muted mb-4">Select a category below to find the forms you need.</p>

  <div class="accordion" id="formsAccordion">

    {% set categories = [
    ("Project Forms", "collapseProject", [
    ("Project Closure Form", "forms/Project_Closure_forms_DFTM_20nov.pdf"),
    ("Project Feedback Form", "forms/ProjectFeedbadkFormat.pdf"),
    ("Project Proposal Assessment Form", "forms/ProjectProposalAssFormat_TEC.pdf"),
    ("Project Closure Form", "forms/Project_Closure_forms_DFTM_20nov.docx"),
    ("Project Feedback Form", "forms/Feedback_form_23_Dec24_DIA-COE,_DRDO.docx"),
    ("Project Proposal Assessment Form", "forms/proposal_assessment_form_23Dec24.docx")
    ]),
    ("Administrative & Academic Forms", "collapseAdmin", [
    ("Booking Form â€“ Classroom & Auditorium", "forms/REQUISITION FORM FOR BOOKING_CLASSROOM & AUDITORIUM.pdf")
    ]),
    ("Finance Forms", "collapseFinance", [
    ("DFTM Contingent Bill", "forms/FINANCE/27_08_2020_DFTM_Contingent BIll.pdf"),
    ("DFTM ECS", "forms/FINANCE/27_08_2020_DFTM_ECS.pdf"),
    ("Audited Expenditure Form Project", "forms/FINANCE/audited_expenditure_form_project.pdf"),
    ("Audited Expenditure Form Running and Operation", "forms/FINANCE/audited_expenditure_form_running_and_operation.pdf"),
    ("Format for Annual Half yearly_Quarterly Progress Report", "forms/FINANCE/Format_for_Annual_Half_yearly_Quarterly_Progress_Report.pdf"),
    ("Format for Permission to Publish Research Paper DIA-COE", "forms/FINANCE/Format_for_Permission_to_Publish_Research_Paper_DIA-COE.pdf"),
    ("Utilization Certificate", "forms/FINANCE/utilization_certificate.pdf"),
    ("DFTM Contingent Bill", "forms/FINANCE/Files/27_08_2020_DFTM_Contingent BIll.docx"),
    ("DFTM ECS", "forms/FINANCE/Files/27_08_2020_DFTM_ECS.docx"),
    ("Audited Expenditure Form Project", "forms/FINANCE/Files/audited_expenditure_form_project.docx"),
    ("Audited Expenditure Form Running and Operation", "forms/FINANCE/Files/audited_expenditure_form_running_and_operation.docx"),
    ("Format for Annual Half yearly_Quarterly Progress Report", "forms/FINANCE/Files/Format_for_Annual_Half_yearly_Quarterly_Progress_Report.docx"),
    ("Format for Permission to Publish Research Paper DIA-COE", "forms/FINANCE/Files/Format_for_Permission_to_Publish_Research_Paper_DIA-COE.docx"),
    ("Utilization Certificate", "forms/FINANCE/Files/utilization_certificate.docx")
    ])
    ] %}

    {% for title, collapse_id, forms in categories %}
    <div class="card shadow-sm mb-3">
      <div class="card-header bg-gradient text-white">
        <div class="fw-bold d-flex align-items-center justify-content-between w-100" data-bs-toggle="collapse"
          data-bs-target="#{{ collapse_id }}" style="cursor: pointer;">
          <span><i class="fas fa-folder-open me-2"></i> {{ title }}</span>
          <i class="fas fa-chevron-down text-white"></i>
        </div>
      </div>
      <div id="{{ collapse_id }}" class="collapse {% if loop.first %}show{% endif %}" data-bs-parent="#formsAccordion">
        <div class="card-body">
          <ul class="list-unstyled mb-0">
            {% for label, path in forms %}
            {% set icon = "fa-file-pdf text-danger" if path.endswith(".pdf") else "fa-file-word text-primary" %}
            <li>
              <i class="fas {{ icon }} me-2"></i>
              <a href="{{ url_for('static', filename=path) }}" download>{{ label }}</a>
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
    {% endfor %}

  </div>
</div>

<style>
  .bg-gradient {
    background: linear-gradient(to right, #002147, #003366) !important;
  }

  .card-body {
    background-color: #f9f9f9;
    color: #212529;
    padding: 1rem 1.25rem;
  }

  .card-header .fw-bold {
    font-size: 1rem;
    user-select: text;
  }

  .accordion .card-body ul li {
    margin-bottom: 10px;
    font-size: 0.95rem;
  }

  .accordion .card-body a {
    text-decoration: none;
    font-weight: 500;
    color: #0d47a1;
  }

  .accordion .card-body a:hover {
    text-decoration: underline;
  }
</style>
{% endblock %}